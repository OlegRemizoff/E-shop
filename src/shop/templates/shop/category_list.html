{% extends 'base.html' %}
{% load static %}


{% block content %}

<div class="container">
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb bg-light p-2">
			<li class="breadcrumb-item"><a href="index.html"><i class="fas fa-home"></i></a></li>
			<li class="breadcrumb-item"><a href="#">{{ category.first.category}}</a></li>
			<li class="breadcrumb-item active" aria-current="page"></li>
		</ol>
	</nav>
</div>


<div class="container py-3">
	<div class="row">

		<div class="col-lg-3 sidebar">

			<div class="mb-2 sidebar-toggler">
				<button class="btn btn-light" type="button">Категории <i
						class="fas fa-chevron-circle-down"></i></button>
			</div>

			<div class="sidebar-toggle sticky-top">
				<div class="list-group">
					<a href="#" class="list-group-item list-group-item-action">Компьютеры</a>
					<a href="#" class="list-group-item list-group-item-action">Планшеты</a>
					<a href="#" class="list-group-item list-group-item-action active">Ноутбуки</a>
					<a href="#" class="list-group-item list-group-item-action">&nbsp;&nbsp;&nbsp;- Mac</a>
					<a href="#" class="list-group-item list-group-item-action active">&nbsp;&nbsp;&nbsp;- Windows</a>
					<a href="#" class="list-group-item list-group-item-action">Телефоны</a>
					<a href="#" class="list-group-item list-group-item-action">Камеры</a>
				</div>
			</div>

		</div>

		<div class="col-lg-9 category-content">
			<h3 class="section-title">{{ category.first.category }}</h3>

			<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Iste eaque sequi, voluptate. Assumenda veniam,
				voluptatibus impedit aliquid nemo facere eveniet animi iure vero maiores magnam cupiditate inventore
				nihil praesentium molestias.</p>

			<div class="row">
				<div class="col-sm-6">
					<div class="input-group mb-3">
						<label class="input-group-text" for="input-sort">Сортировка:</label>
						<select class="form-select" id="input-sort">
							<option selected>По умолчанию</option>
							<option value="1">Название (А - Я)</option>
							<option value="2">Название (Я - А)</option>
							<option value="3">Цена (низкая > высокая)</option>
							<option value="3">Цена (высокая > низкая)</option>
						</select>
					</div>
				</div>

				<div class="col-sm-6">
					<div class="input-group mb-3">
						<label class="input-group-text" for="input-sort">Показать:</label>
						<select class="form-select" id="input-sort">
							<option selected>15</option>
							<option value="1">25</option>
							<option value="2">50</option>
							<option value="3">75</option>
							<option value="3">100</option>
						</select>
					</div>
				</div>
			</div>

			<div class="row">
				{% for item in page_obj %}
				<div class="col-lg-4 col-sm-6 mb-3">
					<div class="product-card">
						<div class="product-tumb">
							<a href="{{ note.get_absolute_url }}"><img src="{{ item.image.url }}" alt=""></a>
						</div>
						<div class="product-details">
							<h4><a href="{{ item.get_absolute_url }}">{{ item.title }}</a></h4>
							<p>{{ item.description }}</p>
							<div class="product-bottom-details d-flex justify-content-between">
								<div class="product-price">{{ item.price }} &#8381;</div>
								<div class="product-links">
									<a href="#"><i
											class="fas fa-shopping-cart"></i></a>
									<a href="#"><i class="far fa-heart"></i></a>
								</div>
							</div>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>

			<div class="row">
				<div class="col-md-12">
					<nav aria-label="Page navigation example">
						<ul class="pagination">
							{% if page_obj.has_previous %}
							<li class="page-item"><a class="page-link" href="?page=1">First</a></li>
							{% endif %}

							{% for p in  page_obj.paginator.page_range %}
								{% if page_obj.number == p %}
								<li class="page-item active">
									<a class="page-link" href="?page={{ p }}">{{ p }}</a>
								</li>
								{% elif p > page_obj.number|add:-3 and p < page_obj.number|add:3 %}
								<li class="page-item">
									<a class="page-link" href="?page={{ p }}">{{ p }}</a>
								</li>
								{% endif %}
							{% endfor %}

							<li class="page-item">
								<a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
							</li>

						</ul>
					</nav>
				</div>

			</div>

		</div>

	</div>
</div>

{% endblock %}